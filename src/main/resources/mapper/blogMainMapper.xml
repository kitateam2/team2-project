<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.sesoc.team2.dao.BlogMainMapper">

	<select id="list" parameterType="string" resultType="BlogMain">
		select
			post_no
			, user_id
			, post_title
			, post_contents
			, to_char(post_uploaddate, 'YYYY.MM.DD') post_uploaddate
			, post_originalfile
			, post_savedfile
		from
			blog_post
		<if test="_parameter != null">
		where 
			post_title like '%' || #{searchText} || '%'
			OR post_contents like '%' || #{searchText} || '%'
		</if>
		order by
			post_no desc
	</select>
 </mapper>